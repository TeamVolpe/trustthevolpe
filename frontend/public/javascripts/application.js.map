{"version":3,"sources":["webpack:///./application.js","webpack:///./controllers/TonyViewer.js","webpack:///./controllers/TonyFooter.js","webpack:///./controllers/TonyMaker.js","webpack:///./controllers/TonyMakerImageView.js","webpack:///./services/TonyDataService.js","webpack:///./directives/LongPress.js"],"names":[],"mappings":"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","file":"application.js","sourcesContent":["const TonyViewer = require(\"./controllers/TonyViewer\");\nconst TonyFooter = require(\"./controllers/TonyFooter\");\nconst TonyMaker = require(\"./controllers/TonyMaker\");\nconst TonyDataService = require(\"./services/TonyDataService\");\nconst LongPress = require(\"./directives/LongPress\");\n\nexport default class Application{\n\n  constructor(){\n    angular.module(\"appVolpelator\", [\"ngDroplet\"])\n      .controller(\"TonyViewerController\", [\"TonyDataService\", TonyViewer])\n      .controller(\"TonyFooterController\", [\"TonyDataService\", TonyFooter])\n      .controller(\"TonyMakerController\", [\"TonyDataService\",\"$scope\", \"$window\", \"$interval\", TonyMaker])\n      .service(\"TonyDataService\", [\"$http\", \"$q\", \"$log\", \"$document\", TonyDataService])\n      .directive(\"onLongPress\", [\"$interval\", LongPress]);\n\n    $(this.onDocReady);\n  }\n\n  onDocReady(){\n    $(\"#credits\").click(()=>{\n      $(\"#techlead\").modal(\"show\");\n    });\n  }\n}\n\nvar app = new Application();\n\n\n\n/** WEBPACK FOOTER **\n ** ./application.js\n **/","export default class TonyViewer{\n\n  constructor(tonyDataService){\n    this.tonyDataService = tonyDataService;\n    this.setDefaultStrings();\n    this.setDefaultImage();\n    this.setInteraction();\n\n\n  }\n\n  setDefaultStrings(){\n    let strings = {};\n    strings.makeTony = \"MAKE A TONY\";\n    strings.copyTony = \"LINK THIS TONY\";\n\n    this.strings = strings;\n  }\n\n  setDefaultImage(){\n    this.currentImage = this.tonyDataService.getCurrentTony();\n  }\n\n  setInteraction(){\n    $(\"[data-toggle='popover']\").popover();\n  }\n\n  onMakeTony(){\n    console.log(\"make\");\n  }\n\n  onCopyTony(){\n    console.log(\"copy\",  $(\".popover-content\").html());\n    let elem = $(\".popover-content\")[0];\n    //let elem = $(\".link-a-tony\")[0];\n    if (document.selection) {\n      console.log(\"if\", elem);\n      let range = document.body.createTextRange();\n      range.moveToElementText(elem);\n      range.select();\n    } else if (window.getSelection) {\n      console.log(\"else\", elem);\n      let range = document.createRange();\n      range.selectNodeContents(elem);\n      window.getSelection().removeAllRanges();\n      window.getSelection().addRange(range);\n      console.log(window.getSelection());\n    }\n\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./controllers/TonyViewer.js\n **/","export default class TonyFooter{\n\n  constructor(tonyDataService){\n    this.tonyDataService = tonyDataService;\n\n    this.initStrings();\n    this.init();\n  }\n\n  initStrings(){\n    let strings = {};\n    strings.title = \"LOOK AT SOME TONIES\";\n    this.strings = strings;\n  }\n\n  init(){\n    let data = {};\n    data.thumbList = this.tonyDataService.getThumbList();\n\n    this.data = data;\n  }\n\n  onThumbClick(id){\n    //console.log(\"click\", id);\n    this.tonyDataService.setCurrentTony(id);\n\n    //window.scrollTo(0,0);\n    $(\"body\").animate({\"scrollTop\": 0 }, \"swing\");\n  }\n\n  onReady(){\n    //console.log('DOM ready');\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./controllers/TonyFooter.js\n **/","const TonyMakerImageView = require(\"./TonyMakerImageView\");\n\nexport default class TonyMaker {\n\n  constructor(tonyDataService, $scope, $window, $interval){\n\n    this.$scope = $scope;\n    this.$window = $window;\n    this.$interval = $interval;\n    this.tonyDataService = tonyDataService;\n\n    this.dragDropInterface = {};\n\n\n    this.textId = \"tonytext\";\n\n\n    this.imageView = new TonyMakerImageView($interval);\n\n    this.reset();\n\n    this.init();\n  }\n\n  init(){\n    this.initDragAndDrop();\n    this.initFileSelect();\n    this.imageView.init();\n    this.onTextBlur();\n  }\n\n  reset(){\n\n    this.photoScale = 100;\n    this.hasImage = false;\n    this.hasText = false;\n    this.enableSave();\n\n    document.getElementById(this.textId).value = \"\";\n\n    this.imageView.reset();\n  }\n\n  initDragAndDrop(){\n    let $scope = this.$scope;\n    $scope.$on(\"$dropletReady\", () => {\n      this.dragDropInterface.allowedExtensions([\"png\", \"jpg\", \"bmp\", \"gif\", \"svg\"]);\n    });\n\n    $scope.$on(\"$dropletFileAdded\", (evt, data) => {\n      this.addMainImageFromFile(data.file);\n    });\n  }\n\n  initFileSelect(){\n    let elem = document.getElementById(\"loltony-file-select\");\n    //let elem = document.createElement(\"input\");\n    elem.setAttribute(\"type\", \"file\");\n    elem.setAttribute(\"accepts\", \"image/*\");\n    elem.setAttribute(\"multiple\", false);\n\n    elem.addEventListener(\"change\",  () => {\n      this.addMainImageFromFile(elem.files[0]);\n    });\n\n    this.fileSelectElem = elem;\n  }\n\n  onSelectFile(){\n    this.fileSelectElem.value = null;\n    this.fileSelectElem.click();\n    /*\n    let evt = document.createEvent(\"MouseEvents\");\n    evt.initEvent(\"click\", true, false);\n    this.fileSelectElem.dispatchEvent(evt);\n    //*/\n  }\n\n  addMainImageFromFile(file){\n    let img = new Image();\n\n    img.addEventListener(\"load\", ()=> {\n      this.photoScale = this.imageView.setMainImage(img);\n      this.hasImage = true;\n      this.enableSave();\n      this.$scope.$apply();\n    });\n\n    img.src = this.$window.URL.createObjectURL(file);\n  }\n\n  enableSave(){\n    if(this.hasText && this.hasImage){\n      this.canSave = \"enabled\";\n    }else{\n      this.canSave = \"disabled\";\n    }\n  }\n\n\n  setTextFocus(){\n    let elem = document.getElementById(this.textId);\n    elem.style.visibility = \"visible\";\n    elem.focus();\n  }\n\n  onTextFocus(){\n    this.imageView.onTextFocus();\n\n  }\n\n  onTextChange(){\n    this.hasText = true;\n    this.enableSave();\n    this.imageView.onTextChange(this.tonyText);\n  }\n\n  onTextBlur(){\n    document.getElementById(this.textId).style.visibility = \"hidden\";\n  }\n\n  onScaleChange(amt){\n    this.photoScale += amt;\n    this.imageView.onScaleChange(this.photoScale);\n  }\n\n  onSaveImage(){\n    if(this.canSave === \"enabled\"){\n      this.canSave = \"disabled\";\n      let data = this.imageView.getCanvasData();\n      this.tonyDataService.uploadTony(data, (msg, resp) => {\n        console.log(msg,resp);\n        if(msg === \"success\"){\n          this.showSuccessOverlay();\n        }else{\n          this.showErrorOverlay();\n        }\n      });\n      //console.log(data);\n    }\n  }\n\n  showErrorOverlay(){\n    this.enableSave();\n    $(\"#tonymaker-overlay\").modal(\"hide\");\n    $(\"#tonymaker-error\").modal(\"show\").on(\"hide.bs.modal\",()=>{\n      $(\"#tonymaker-overlay\").modal(\"show\");\n    });\n  }\n\n  showSuccessOverlay(){\n    this.enableSave();\n    $(\"#tonymaker-overlay\").modal(\"hide\");\n    $(\"#tonymaker-success\").modal(\"show\");\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./controllers/TonyMaker.js\n **/","export default class TonyMakerImageView {\n\n  constructor($interval){\n    this.$interval = $interval;\n  }\n\n  init(){\n    this.images = {};\n    this.fullPhotoBounds = { x: 240, y: 180, width: 414, height: 474, xRatio: 0, yRatio: 0 };\n    this.internalCanvas = document.createElement(\"canvas\");\n    this.imageHolder = document.getElementById(\"loltony-holder\");\n    this.children = {};\n\n    this.centerTextY = 0;\n    this.twoLineTextY = 0;\n    this.multiLineTextY = 0;\n\n    this.imageHolder.addEventListener(\"dragstart\",(evt)=>{\n      evt.preventDefault();\n    });\n\n    this.initLoad();\n  }\n\n  initLoad(){\n    let preload = new createjs.LoadQueue();\n\n    preload.on(\"complete\", () => {this.onFilesLoaded(preload); }, this);\n\n    preload.loadManifest([\n      {id:\"trust\", src: \"/images/loltony-trust-2x.png\"},\n      {id:\"write\", src: \"/images/loltony-write-2x.png\"},\n      {id:\"overlay\", src: \"/images/loltony-overlay-2x.png\"},\n      {id:\"placeholder\", src: \"/images/loltony-placeholder-2x.png\"},\n      {id:\"base\", src: \"/images/loltony-base-2x.png\"}\n    ]);\n  }\n\n  onFilesLoaded(preload){\n    this.images.trust = preload.getResult(\"trust\");\n    this.images.write = preload.getResult(\"write\");\n    this.images.overlay = preload.getResult(\"overlay\");\n    this.images.placeholder = preload.getResult(\"placeholder\");\n    this.images.base = preload.getResult(\"base\");\n\n    this.initInternalCanvas();\n  }\n\n  initInternalCanvas(){\n    let ic = this.internalCanvas;\n    ic.width = this.images.overlay.width;\n    ic.height = this.images.overlay.height;\n\n    let bounds = this.fullPhotoBounds;\n    bounds.xRatio = bounds.x/ic.width;\n    bounds.yRatio = bounds.y/ic.height;\n\n    this.stage = new createjs.Stage(ic);\n\n    this.addChildren();\n  }\n\n  addChildren(){\n    let stage = this.stage;\n    let c = this.children;\n\n\n    let placeholderImg = new createjs.Bitmap(this.images.placeholder);\n    stage.addChild(placeholderImg);\n    c.placeholderImg = placeholderImg;\n\n    let baseImg = new createjs.Bitmap(this.images.base);\n    stage.addChild(baseImg);\n    baseImg.compositeOperation = \"multiply\";\n    c.baseImg = baseImg;\n\n\n    let overlayImg = new createjs.Bitmap(this.images.overlay);\n    stage.addChild(overlayImg);\n    c.overlayImg = overlayImg;\n\n    let writeImg = new createjs.Bitmap(this.images.write);\n    stage.addChild(writeImg);\n    c.writeImg = writeImg;\n\n    let trustImg = new createjs.Bitmap(this.images.trust);\n    stage.addChild(trustImg);\n    trustImg.visible = false;\n    c.trustImg = trustImg;\n\n    this.addText();\n\n\n    this.update();\n    this.initComplete = true;\n  }\n\n  update(){\n    this.stage.update();\n    this.imageHolder.src = this.internalCanvas.toDataURL(\"image/jpeg\");\n    //console.log(\"update\");\n  }\n\n  reset(){\n    if(this.initComplete){\n\n      let c = this.children;\n      c.writeImg.visible = true;\n      c.placeholderImg.visible = true;\n      c.text.visible = false;\n      c.text.text = \"\";\n\n      if(c.mainImg && this.stage.contains(c.mainImg)){\n        this.stage.removeChild(c.mainImg);\n        c.mainImg.image = null;\n        c.mainImg = null;\n        this.images.main = null;\n      }\n\n      this.update();\n    }\n  }\n\n  addText(stage){\n    let text = new createjs.Text(\"...\", \"38px GloriaHallelujah\", \"#000000\");\n    text.textAlign = \"center\";\n    text.lineWidth = this.internalCanvas.width*0.63;\n    //text.text = this.tonyText;\n    //text.x = 100;\n    text.x = this.internalCanvas.width*0.68;\n    text.y = (this.internalCanvas.height*0.3 - text.getBounds().height)*0.5;\n    text.rotation = -2;\n    text.visible = false;\n\n    this.centerTextY = text.y;\n    this.twoLineTextY = (this.internalCanvas.height*0.3 - text.getBounds().height*2)*0.5;\n    this.multiLineTextY = (this.internalCanvas.height*0.3 - text.getBounds().height*3)*0.5;\n    text.text = \"\";\n\n    this.stage.addChild(text);\n    this.children.text = text;\n  }\n\n\n\n  onTextFocus(){\n    this.children.text.visible = true;\n  }\n\n  onTextChange(newText){\n    let c = this.children;\n\n    c.text.text = newText;\n    c.text.visible = true;\n    let lines = c.text.getMetrics().lines.length;\n    if(lines > 2){\n      c.text.y = this.multiLineTextY;\n    }else if (lines == 2) {\n      c.text.y = this.twoLineTextY;\n    }else{\n      c.text.y = this.centerTextY;\n    }\n\n    c.writeImg.visible = false;\n\n    this.update();\n  }\n\n  onScaleChange(amt){\n    let img = this.children.mainImg;\n    if(img){\n      img.scaleX = img.scaleY = amt*0.01;\n      this.update();\n    }\n  }\n\n  setMainImage(img){\n    let stage = this.stage;\n    let placeholder = this.children.placeholderImg;\n    let bounds = this.fullPhotoBounds;\n    let mainImage = new createjs.Bitmap(img);\n\n    this.images.main = img;\n    this.children.mainImg = mainImage;\n    mainImage.x = bounds.x;\n    mainImage.y = bounds.y;\n\n    let w = mainImage.image.naturalWidth / bounds.width;\n    let h = mainImage.image.naturalHeight / bounds.height;\n    let scaler = (w < h) ? 1/w : 1/h;\n\n    mainImage.scaleX = mainImage.scaleY = scaler;\n\n    stage.addChildAt(mainImage,0);\n    placeholder.visible = false;\n\n    this.update();\n\n    this.setDragHandler();\n\n    return Math.ceil(scaler*100);\n  }\n\n  modifyMainImagePosition(x,y){\n    this.children.mainImg.x += x;\n    this.children.mainImg.y += y;\n    //this.update();\n  }\n\n  setDragHandler(){\n    let f = (evt) => {\n      evt.stopPropagation();\n      //evt.preventDefault();\n      if(evt.type === \"touchstart\"){\n        //evt.pageX = evt.originalEvent.changedTouches[0].pageX;\n        //evt.pageY = evt.originalEvent.changedTouches[0].pageY;\n        let tmp = {};\n\n        tmp.pageX = evt.changedTouches[0].pageX;\n        tmp.pageY = evt.changedTouches[0].pageY;\n        this.touchEventCoords = {\n          x: tmp.pageX,\n          y: tmp.pageY\n        };\n        this.onEventBegin(tmp, \"touchmove\", \"touchend\" );\n      }\n      else{\n        this.onEventBegin(evt, \"mousemove\", \"mouseup\");\n      }\n    };\n\n    //let $image = $(this.imageHolder);\n    //$image.on(\"touchstart\", f);\n    //$image.on(\"mousedown\", f);\n    this.imageHolder.addEventListener(\"touchstart\", f, false);\n    this.imageHolder.addEventListener(\"mousedown\", f, false);\n  }\n\n  onEventBegin(evt, moveType, endType){\n    if (this.isPointWithinBounds(evt)){\n      // lower fps on mobile\n      let framerate = moveType === \"touchmove\" ? 6 : 30;\n      this.updateInterval = this.$interval( (args) => { this.update(); }, (1/framerate) );\n      //console.log(evt);\n      //let body = $(\"body\");\n      let body = document.getElementsByTagName(\"body\")[0];\n      let moveMouse = (event) => {\n        this.modifyMainImagePosition(event.movementX, event.movementY);\n      };\n      let moveTouch = (event) => {\n        event.stopPropagation();\n        event.preventDefault();\n        let old = this.touchEventCoords;\n        //let x = event.originalEvent.changedTouches[0].pageX;\n        //let y = event.originalEvent.changedTouches[0].pageY;\n        let x = event.changedTouches[0].pageX;\n        let y = event.changedTouches[0].pageY;\n        let tmp = {};\n        tmp.movementX = x - old.x;\n        tmp.movementY = y - old.y;\n        old.x = x;\n        old.y = y;\n        moveMouse(tmp);\n      };\n      let move = moveType === \"touchmove\" ? moveTouch : moveMouse;\n      let end = (event)=> {\n        event.stopPropagation();\n        event.preventDefault();\n        this.$interval.cancel(this.updateInterval);\n        //body.off(moveType, move);\n        //body.off(endType, end);\n        body.removeEventListener(moveType, move, false);\n        body.removeEventListener(endType, end, false);\n        this.touchEventCoords = null;\n      };\n      //body.on(moveType, move);\n      //body.on(endType, end);\n      body.addEventListener(moveType, move, false);\n      body.addEventListener(endType, end, false);\n    }\n  }\n\n  isPointWithinBounds(evt){\n    let image = this.imageHolder;\n    let bounds = this.fullPhotoBounds;\n\n    let local = this.globalToLocal($(image),evt.pageX,evt.pageY);\n\n    let xRatio = local.x/image.width;\n    let yRatio = local.y/image.height;\n\n    return xRatio >= bounds.xRatio && yRatio >= bounds.yRatio;\n  }\n\n  globalToLocal( context, globalX, globalY ){\n      let position = context.offset();\n      return({\n        x: Math.floor( globalX - position.left ),\n        y: Math.floor( globalY - position.top )\n      });\n  }\n\n  getCanvasData(){\n    this.children.trustImg.visible = true;\n    this.stage.update();\n    let data = this.internalCanvas.toDataURL(\"image/jpeg\");\n\n    this.children.trustImg.visible = false;\n    this.stage.update();\n\n    return data;\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./controllers/TonyMakerImageView.js\n **/","export default class TonyDataService{\n\n  constructor($http, $q, $log, $document){\n    this.$http = $http;\n    this.$q = $q;\n    this.$log = $log;\n    this.$document = $document;\n    this.init();\n    this.checkDeepLink();\n    this.loadData();\n  }\n\n  init(){\n    let data = {};\n\n    data.title = this.$document[0].title;\n\n    let urls = {};\n    let loc = `${location.hostname}/`;\n    urls.base = loc.indexOf(\"localhost\") !== -1 || loc.indexOf(\"192.168.\") !== -1 ? \"http://52.30.249.142/\" : \"/\";\n    urls.origin = `${location.origin}/`;\n    urls.memeBase = \"tony/\";\n    urls.imageList = urls.base + \"meme_api/memes/\";\n    urls.imageUpload = urls.base + \"meme_api/memes/\";\n    data.urls = urls;\n\n    let dummyList = [];\n    for (let i = 0; i < 42; ++i){\n      //match format of backend data\n      dummyList.push({image: \"/images/meme-2x.jpg\", id:`${i}`});\n    }\n    data.dummyList = dummyList;\n\n    let thumbList = [];\n    data.thumbList = thumbList;\n\n    data.currentTony = {\n      link: \"\",\n      id: \"\",\n      deeplink: \"\"\n    };\n\n\n    this.data = data;\n  }\n\n  checkDeepLink(){\n    let state = History.getState();\n    if(state.hash.indexOf(this.data.urls.memeBase) === -1 ){\n      // no deeplink\n      // don't load something, let it be set by the data list return;\n      //this.loadSingleTony(5);\n    }else{\n      // deeplink\n      let id = parseInt(state.url.split(this.data.urls.memeBase)[1]);\n      this.loadSingleTony(id);\n    }\n    /*\n    data.currentTony = {\n      link: \"images/meme-2x.jpg\",\n      id: \"tony-1138\",\n      deeplink:`${urls.memeBase}0`\n    };\n    */\n  }\n\n  loadSingleTony(id){\n    let data = this.data;\n    if(data.thumbList[id]){\n      this.setCurrentTony(id);\n    }else{\n      this.$http.get( `${data.urls.imageList}${id}` ).then(\n        (result) => {\n          console.log(result);\n          //this.setThumbList(result.data);\n          this.formatImageData(result.data);\n          this.setCurrentTonyByData(result.data);\n        },\n        (message, code) => {\n          //this.setThumbList(data.dummyList);\n          //this.$log.warn(\"$http error - loadSingleTony: Using dummy data -\", message, code);\n          data.currentTony.link = \"images/meme-2x.jpg\";\n          data.currentTony.id = \"tony-1138\";\n          data.currentTony.deeplink = `${data.urls.memeBase}0`;\n        }\n      );\n    }\n\n  }\n\n  loadData(){\n    this.$http.get( this.data.urls.imageList ).then(\n      (data) => {\n        this.setThumbList(data.data);\n      },\n      (message, code) => {\n        this.setThumbList(this.data.dummyList);\n        this.$log.warn(\"$http error - getThumbList: Using dummy list -\", message, code);\n      }\n    );\n  }\n\n\n  getThumbList(){\n    return this.data.thumbList;\n  }\n\n  setThumbList(arr){\n    let thumbList = this.data.thumbList;\n    let memeBase = this.data.urls.memeBase;\n    let baseUrl = `${this.data.urls.origin}${memeBase}`;\n    let format = this.formatImageData;\n\n    thumbList.splice(0,thumbList.length);\n    let len = arr.length;\n    for( let i = 0; i <  len; ++i ){\n      let elem = arr[i];\n      format(elem, baseUrl, memeBase);\n      thumbList.push(elem);\n    }\n    let state = History.getState();\n    if(state.hash.indexOf(memeBase) === -1 ){\n      console.log(\"billy\");\n      this.setCurrentTony(thumbList.length - 1);\n    }\n  }\n\n  formatImageData(obj,url,base){\n    obj.url = obj.image;\n    obj.deeplink = `${url}${obj.id}`;\n    obj.pushState = `${base}${obj.id}`;\n  }\n\n/*\n  getThumbList(){\n    let promise;\n\n    if (this.data.thumbList.length === 0){\n      promise = this.$http.get( this.data.urls.imageList).then(\n        (data) => {\n          this.data.thumbList = data.data;\n          return this.data.thumbList;\n        },\n        (message, code) => {\n          this.data.thumbList = this.data.dummyList;\n          this.$log.error(\"$http error - getThumbList: Using dummy list -\", message, code);\n          return this.data.thumbList;\n        }\n      );\n    }else{\n      let deferred = this.$q.defer();\n      deferred.resolve(this.data.thumbList);\n      promise = deferred.promise;\n    }\n\n    return promise;\n  }\n*/\n  getCurrentTony(){\n    return this.data.currentTony;\n  }\n\n  setCurrentTony(id){\n    let tony = this.data.currentTony;\n    let thumb = this.data.thumbList[id];\n    this.setCurrentTonyByData(thumb);\n    let state = History.getState().hash.indexOf(this.data.memeBase) === -1 ? tony.pushState : state = tony.id;\n\n    History.pushState({id: `tony-${tony.id}`}, `${this.data.title}: ${tony.id}`, state);\n  }\n\n  setCurrentTonyByData(tonyData){\n    let tony = this.data.currentTony;\n    tony.link = tonyData.url;\n    tony.id = tonyData.id;\n    tony.deeplink = tonyData.deeplink;\n    tony.pushState = tonyData.pushState;\n  }\n\n  uploadTony(data, onComplete){\n    this.$http.post( this.data.urls.imageUpload, { \"image\": data} ).then(\n      (data) => {\n        onComplete(\"success\",data);\n      },\n      (message, code) => {\n        onComplete(\"error\", {\"message\": message, \"code\": code});\n      }\n    );\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./services/TonyDataService.js\n **/","export default function($interval) {\n  return {\n    restrict: \"A\",\n    link: ($scope, $elm, $attrs) => {\n\n      let mouseDown = (evt) => {\n        evt.preventDefault();\n        $scope.longPressInterval = $interval( () => {\n          console.log(\"longpress\");\n          $scope.$eval($attrs.onLongPress);\n        }, 300);\n      };\n\n      let mouseUp = (evt) => {\n        evt.preventDefault();\n        $interval.cancel($scope.longPressInterval);\n        if ($attrs.onTouchEnd) {\n            $scope.$eval($attrs.onTouchEnd);\n        }\n      };\n\n      $elm.bind(\"mousedown\", mouseDown);\n      $elm.bind(\"touchstart\", mouseDown);\n\n      $elm.bind(\"mouseup\", mouseUp);\n      $elm.bind(\"mouseleave\", mouseUp);\n      $elm.bind(\"touchend\", mouseUp);\n      $elm.bind(\"touchleave\", mouseUp);\n    }\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./directives/LongPress.js\n **/"],"sourceRoot":""}